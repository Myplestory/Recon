<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta htt-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"
    <title></title>
    <link rel="stylesheet" href="index.css">
  </head>
  <body onload="InitializeChoices()">

    <header id="titlebar">
      <div id="drag-region">
        <div id="window-title">
          <span>Recon v.1</span>
        </div>
        <div id="window-controls">
          <div class="button" id="min-button">
            <img class="icon" srcset="icons/min-w-10.png 1x, icons/min-w-12.png 1.25x, icons/min-w-15.png 1.5x, icons/min-w-15.png 1.75x, icons/min-w-20.png 2x, icons/min-w-20.png 2.25x, icons/min-w-24.png 2.5x, icons/min-w-30.png 3x, icons/min-w-30.png 3.5x" draggable="false" />
          </div>
          <div class="button" id="max-button">
            <img class="icon" srcset="icons/max-w-10.png 1x, icons/max-w-12.png 1.25x, icons/max-w-15.png 1.5x, icons/max-w-15.png 1.75x, icons/max-w-20.png 2x, icons/max-w-20.png 2.25x, icons/max-w-24.png 2.5x, icons/max-w-30.png 3x, icons/max-w-30.png 3.5x" draggable="false" />
          </div>
          <div class="button" id="restore-button">
            <img class="icon" srcset="icons/restore-w-10.png 1x, icons/restore-w-12.png 1.25x, icons/restore-w-15.png 1.5x, icons/restore-w-15.png 1.75x, icons/restore-w-20.png 2x, icons/restore-w-20.png 2.25x, icons/restore-w-24.png 2.5x, icons/restore-w-30.png 3x, icons/restore-w-30.png 3.5x" draggable="false" />
          </div>
          <div class="button" id="close-button">
            <img class="icon" srcset="icons/close-w-10.png 1x, icons/close-w-12.png 1.25x, icons/close-w-15.png 1.5x, icons/close-w-15.png 1.75x, icons/close-w-20.png 2x, icons/close-w-20.png 2.25x, icons/close-w-24.png 2.5x, icons/close-w-30.png 3x, icons/close-w-30.png 3.5x" draggable="false" />
          </div>
        </div>
      </div>
    </header>
    <div class="container">
      <aside>
        <div id="delayspan">
          <span id="delaytitle">Refresh Delay</span>
        </div>
        <div id="delay">
          <div id="slider1">
            <span id="num" class="number">0</span>
            <span id="ms">ms</span>
            <input type="range" value="0"max="1000"/>
          </div>
        </div>
        <div id="Scan">
          <div id="ScanStart">
            <button id="ScanStartButton" type="button" class="button glow-button" target="_blank" onclick="startScan();">Glow Button</button>
          </div>
        </div>
        <div id="maps">
          <div class="images" id="Bind">
            <div class="image">
              <img class="icon" srcset="icons/Bind.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="BindDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Haven">
            <div class="image">
              <img class="icon" srcset="icons/Haven.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="HavenDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Split">
            <div class="image">
              <img class="icon" srcset="icons/Split.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="SplitDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Ascent">
            <div class="image">
              <img class="icon" srcset="icons/Ascent.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="AscentDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Icebox">
            <div class="image">
              <img class="icon" srcset="icons/Icebox.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="IceboxDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Breeze">
            <div class="image">
              <img class="icon" srcset="icons/Breeze.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="BreezeDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Fracture">
            <div class="image">
              <img class="icon" srcset="icons/Fracture.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="FractureDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Pearl">
            <div class="image">
              <img class="icon" srcset="icons/Pearl.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="PearlDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
          <div class="permap" id="Lotus">
            <div class="image">
              <img class="icon" srcset="icons/Lotus.jpg" width="100px"/>
            </div>
            <div class="dropdown" id="LotusDropdown">
              <div class="select">
                <span class="selected">Astra</span>
                <div class="caret"></div>
              </div>
              <ul class="menu">
                <li class="active">Astra</li>
                <li>Breach</li>
                <li>Brimstone</li>
                <li>Chamber</li>
                <li>Cypher</li>
                <li>Fade</li>
                <li>Gekko</li>
                <li>Harbor</li>
                <li>Jett</li>
                <li>KAY/O</li>
                <li>Killjoy</li>
                <li>Neon</li>
                <li>Omen</li>
                <li>Phoenix</li>
                <li>Raze</li>
                <li>Reyna</li>
                <li>Sage</li>
                <li>Skye</li>
                <li>Sova</li>
                <li>Viper</li>
                <li>Yoru</li>
              </ul>
            </div>
          </div>
        </div>
        <div id="indicator">
          <div class="panel">
            <div class="status-light sl-red"></div>
            <div class="status-light sl-green"></div>
            <div class="status-light sl-blue"></div>
          </div>
        </div>
        <div id="logs">
          <textarea id="logprint" rows="20" cols="55" autofocus readonly wrap="soft" style="background-color:#8eafe7"></textarea>
        </div>
      </aside>
    </div>
  </body>
  <script>
    document.getElementById('min-button').addEventListener('click', () => {
        window.ipcRender.send('window:minimize');
    });

    document.getElementById('restore-button').addEventListener('click', () => {
        window.ipcRender.send('window:restore');
    });

    document.getElementById('max-button').addEventListener('click', () => {
        window.ipcRender.send('window:maximize');
    });

    document.getElementById('close-button').addEventListener('click', () => {
        window.ipcRender.send('window:close');
    });
    const input = document.querySelector("input"),
      number = document.querySelector(".number");
      input.addEventListener("input", () => {
        number.textContent = input.value;
      });
    const dropdowns = document.querySelectorAll('.dropdown');
    //loop through all dropdown elements
    dropdowns.forEach(dropdown => {
      // get inner elements from each dropdown
      const select = dropdown.querySelector('.select');
      const caret = dropdown.querySelector('.caret');
      const menu = dropdown.querySelector('.menu');
      const options = dropdown.querySelectorAll('.menu li')
      const selected = dropdown.querySelector('.selected');
      // we are using this method in order to have multiple dropdowns on the page work
      // click event to selected elements
      select.addEventListener('click',() => {
        // add the clicked select styles to the select element
        select.classList.toggle('select-clicked');
        // add the rotate styles to the caret element
        caret.classList.toggle('caret-rotate');
        // add the open styles to the menu element
        menu.classList.toggle('menu-open');
      });
      // Loop through all option elems
      options.forEach(option => {
        // click event to option element
        option.addEventListener('click',() => {
          // change selected inner text to clicked option inner text
          selected.innerText = option.innerText;
          // Add the clicked select styles to the select element
          select.classList.remove('select-clicked');
          // Add the rotate styles to the caret elem
          caret.classList.remove('caret-rotate');
          // Add the open styles to the menu elem
          menu.classList.remove('menu-open');
          // Remove active class from all option elems
          options.forEach(option => {
            option.classList.remove('active');
          });
          // Add active class to clicked option element
          option.classList.add('active');
          // Repopulating objects
          const BindPick = document.getElementById('BindDropdown');
          console.log(BindPick.getElementsByClassName('selected').innerHTML);
          choices["Bind"] = BindPick.getElementsByClassName('selected').innerHTML;
          const HavenPick = document.querySelector('.HavenDropdown');
          choices["Haven"] = HavenPick.querySelector('.selected').innerHTML;
          const SplitPick = document.querySelector('.SplitDropdown');
          choices["Split"] = SplitPick.querySelector('.selected').innerHTML;
          const AscentPick = document.querySelector('.AscentDropdown');
          choices["Ascent"] = AscentPick.querySelector('.selected').innerHTML;
          const IceboxPick = document.querySelector('.IceboxDropdown');
          choices["Icebox"] = IceboxPick.querySelector('.selected').innerHTML;
          const BreezePick = document.querySelector('.BreezeDropdown');
          choices["Breeze"] = BreezePick.querySelector('.selected').innerHTML;
          const FracturePick = document.querySelector('.FractureDropdown');
          choices["Fracture"] = FracturePick.querySelector('.selected').innerHTML;
          const PearlPick = document.querySelector('.PearlDropdown');
          choices["Pearl"] = PearlPick.querySelector('.selected').innerHTML;
          const LotusPick = document.querySelector('.LotusDropdown');
          choices["Lotus"] = LotusPick.querySelector('.selected').innerHTML;
        });
      });
    });
    // Logprinting
    //var logging = document.getElementById('logs');
    //setInterval(function(){
    //  logging.value+="\ntest";},2000
   // );
    // onloading
    const choices = {}
    const maporder = ["Bind","Haven","Split","Ascent","Icebox","Breeze","Fracture","Pearl","Lotus"]
    InitializeChoices = () => {
      let x = 0;
      dropdowns.forEach(dropdown => {
        const picked = dropdown.querySelector('.selected')
        console.log(picked.innerHTML)
        choices[maporder[x]] = picked.innerHTML;
        x++;
      })
      console.log(choices)
    };
    // Starting Scan
      //document.getElementById("ScanStartButton").onclick = function(){
        //options.forEach(option => {

        //})
     // };
    //if()
  </script>
</html>